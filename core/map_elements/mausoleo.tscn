[gd_scene load_steps=14 format=4 uid="uid://fbyadc334qwp"]

[ext_resource type="PackedScene" uid="uid://bvg4pm80s1vyf" path="res://3dmodels/crypt-large.glb" id="1_deiai"]
[ext_resource type="Script" path="res://core/map_elements/mausoleo.gd" id="2_887pc"]
[ext_resource type="PackedScene" uid="uid://30p5iss8ieah" path="res://3dmodels/crypt-large-roof.glb" id="2_bn787"]
[ext_resource type="PackedScene" uid="uid://7vijq4erf83o" path="res://3dmodels/crypt-small-entrance-alternative.glb" id="4_kphpg"]
[ext_resource type="Texture2D" uid="uid://bkjmqwp3qp8tw" path="res://3dmodels/Textures/colormap.png" id="7_7vjvv"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ou63o"]
resource_name = "colormap"
cull_mode = 2
albedo_texture = ExtResource("7_7vjvv")
texture_filter = 2

[sub_resource type="ArrayMesh" id="ArrayMesh_hq5e6"]
_surfaces = [{
"aabb": AABB(0, 0, -0.05, 0.4, 0.8, 0.1),
"format": 34896613377,
"index_count": 132,
"index_data": PackedByteArray("AgAAAAEAAQADAAIABgAEAAUABQAHAAYACAAHAAUABQAJAAgABgAHAAgACAAKAAYAAQALAAwADAADAAEADgANAAIAAgADAA4AAwAMAA4ADwAOAAwAEAAPAAwADAARABAAEgAEAAYABgAKABIAFQATABQAFAALABUACwABABUAFgAVAAEAFwAWAAEAAQAAABcADgAWABcAFwANAA4AEgAJAAUABQAEABIAEAATABUAFQAPABAADAALABQAFAARAAwACQASABUAFQAIAAkADwAVABIAFQAWAAgAEgAKAA8AFgAOAAgACgAOAA8ACgAIAA4AFAATABAAEAARABQAFwAAAAIAAgANABcA"),
"name": "colormap",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("/7//j/9/AAD/v/+P/78AAP8//4//fwAA/z//j/+/AAAAAAAAAAAAAP//AAAAAAAAAAD//wAAAAD/////AAAAAP///////wAA//8AAP//AAAAAP////8AAP+//2//vwAA/z//b/+/AAD/P//f/38AAP8//9///wAA/z//H///AAD/P/8f/38AAP8//2//fwAAAAAAAP//AAD/v/8f/38AAP+//2//fwAA/7//H///AAD/v//f//8AAP+//9//fwAA")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_182ke"]
resource_name = "crypt-door_door"
_surfaces = [{
"aabb": AABB(0, 0, -0.05, 0.4, 0.8, 0.1),
"attribute_data": PackedByteArray("/xfL3P8Xy9z/F8vc/xfL3P8XmPn/F5j5/xdlxv8XZcb/F2XG/xeY+f8XZcb/F5j5/xdlxv8XZcb/F2XG/xdlxv8XMuP/FzLj/xfL3P8Xy9z/F8zM/xfL3P8XzMz/F8vc/xcy4/8XMvP/FzLz/xcy4/8XmPn/F2XG/xeY+f8XZcb/FzLz/xcy4/8XMvP/FzLj/xfL3P8XzMz/F8zM/xfL3P8XzMz/F8zM/xfMzP8XzMz/F5j5/xeY+f8XmPn/F5j5/xcy8/8XMvP/FzLz/xcy8/8XMuP/FzLj/xcy4/8XMuP/F5j5/xcy8/8XmPn/F2XG/xcy8/8XzMz/F2XG/xfMzP/XMvP/1zLz/9cy4//XMuP/18vc/9fL3P/XzMz/18zM"),
"format": 34896613399,
"index_count": 132,
"index_data": PackedByteArray("AgAAAAEAAQADAAIABgAEAAUABQAHAAYACgAIAAkACQALAAoADgAMAA0ADQAPAA4AEgAQABEAEQATABIAFgAUABUAFQAXABYAFwAYABYAGQAWABgAGgAZABgAGAAbABoAHgAcAB0AHQAfAB4AIgAgACEAIQAjACIAIwAkACIAJQAiACQAJgAlACQAJAAnACYAKgAoACkAKQArACoALgAsAC0ALQAvAC4AMgAwADEAMQAzADIANgA0ADUANQA3ADYAOgA4ADkAOQA7ADoAPAA5ADgAOQA9ADsAOAA+ADwAPQA/ADsAPgA/ADwAPgA7AD8AQgBAAEEAQQBDAEIARgBEAEUARQBHAEYA"),
"material": SubResource("StandardMaterial3D_ou63o"),
"name": "colormap",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 72,
"vertex_data": PackedByteArray("/7//j/9/////v/+P/7////8//4//f////z//j/+///8AAAAAAAD/////AAAAAP//AAD//wAA////////AAD///////8AAP+///8AAAAA/7//////////v///AAD///+//////wAA/////////////wAA//8AAP//AAD/////////v/9v/7//n/8//2//v/+f/7//j/+//5//P/+P/7//n/8//9//f/+//z//j/9//7//P//f////v/8//4//v/+//z//b/+//7//P/8f////v/8//x//f/+//z//b/9//78AAAAAAAD/vwAA//8AAP+/AAAAAP///78AAP//////v/+//x//f/+//7//b/9//7//v/8f////v/+//2//v/+//7//j/+//7//v//f////v/+//9//f/+//7//j/9//7//v//f////v/+//9//f/+//z//3////7//P//f/3//v///AAD///+///8AAAAA/78AAAAA////vwAAAAAAAP+//7//H/9/////v/8f//////8//x//f////z//H///////v/9v/7//n/+//2//f/+//z//b/+//5//P/9v/3//vwAAAAD//wCA/7//H///AID//wAA//8AgP///////wCA/z//H///AID/v//f//8AgAAA/////wCA/z//3///AID/v/8f/38AgP8//x//fwCA/7//b/9/AID/P/9v/38AgP+//4//fwCA/z//j/9/AID/v//f/38AgP8//9//fwCA/3//v/9/fKX/f/+//398pf9/////f////3////9/////fwAA/38AAP9/AAD/fwAA/3//v/9//7//f/+//3//vwAA/38AAP9/////f////3//fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/////f////3////9/////f////3////9/////f////3////9/////f////3///wAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9//3//v/9//7//f/+//3//vwAA/38AAP9/AAD/fwAA/3//f////3////9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f///")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_hq5e6")

[sub_resource type="Animation" id="Animation_1blob"]
resource_name = "close"
tracks/0/type = "rotation_3d"
tracks/0/imported = true
tracks/0/enabled = true
tracks/0/path = NodePath("crypt-door/door")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0.766044, 0, -0.642788, 0.0333333, 1, 0, 0.761311, 0, -0.648388, 0.0666667, 1, 0, 0.746864, 0, -0.664977, 0.1, 1, 0, 0.721987, 0, -0.691907, 0.133333, 1, 0, 0.685536, 0, -0.728039, 0.166667, 1, 0, 0.636031, 0, -0.771663, 0.2, 1, 0, 0.571788, 0, -0.820401, 0.233333, 1, 0, 0.491104, 0, -0.871101, 0.266667, 1, 0, 0.392515, 0, -0.919745, 0.3, 1, 0, 0.259346, 0, -0.965785, 0.333333, 1, 0, 0.138933, 0, -0.990302, 0.366667, 1, 0, 0.0861897, 0, -0.996279, 0.4, 1, 0, 0.0784592, 0, -0.996917, 0.433333, 1, 0, 0.121268, 0, -0.99262, 0.466667, 1, 0, 0.176273, 0, -0.984341, 0.5, 1, 0, 0.203108, 0, -0.979156, 0.533333, 1, 0, 0.215493, 0, -0.976505, 0.566667, 1, 0, 0.21354, 0, -0.976934, 0.6, 1, 0, 0.19723, 0, -0.980357, 0.633333, 1, 0, 0.165077, 0, -0.986281, 0.666667, 1, 0, 0.120907, 0, -0.992664, 0.7, 1, 0, 0.0564206, 0, -0.998407, 0.733333, 1, 0, 0.00702975, 0, -0.999975, 0.766667, 1, 0, 0.0233901, 0, -0.999726, 0.8, 1, 0, 0.0523359, 0, -0.99863, 0.833333, 1, 0, 0.0502782, 0, -0.998735, 0.866667, 1, 0, 0.0390176, 0, -0.999239, 0.9, 1, 0, 0.0246775, 0, -0.999696, 0.933333, 1, 0, 0.0106657, 0, -0.999943, 0.966667, 1, 0, 0.00533293, 0, -0.999986, 1, 1, 0, 0, 0, -1)

[sub_resource type="Animation" id="Animation_nubav"]
resource_name = "open"
tracks/0/type = "rotation_3d"
tracks/0/imported = true
tracks/0/enabled = true
tracks/0/path = NodePath("crypt-door/door")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 1.9377e-16, 0, -1, 0.0333333, 1, 0, 0.0962148, 0, -0.995361, 0.0666667, 1, 0, 0.246814, 0, -0.969063, 0.1, 1, 0, 0.349249, 0, -0.93703, 0.133333, 1, 0, 0.437937, 0, -0.899005, 0.166667, 1, 0, 0.51372, 0, -0.857958, 0.2, 1, 0, 0.577717, 0, -0.816237, 0.233333, 1, 0, 0.631176, 0, -0.77564, 0.266667, 1, 0, 0.675364, 0, -0.737484, 0.3, 1, 0, 0.711494, 0, -0.702692, 0.333333, 1, 0, 0.740681, 0, -0.671857, 0.366667, 1, 0, 0.763921, 0, -0.64531, 0.4, 1, 0, 0.78208, 0, -0.623179, 0.433333, 1, 0, 0.795901, 0, -0.605427, 0.466667, 1, 0, 0.806014, 0, -0.591897, 0.5, 1, 0, 0.812947, 0, -0.582338, 0.533333, 1, 0, 0.817148, 0, -0.576428, 0.566667, 1, 0, 0.818997, 0, -0.573798, 0.6, 1, 0, 0.818827, 0, -0.57404, 0.633333, 1, 0, 0.816939, 0, -0.576725, 0.666667, 1, 0, 0.813612, 0, -0.581409, 0.7, 1, 0, 0.809119, 0, -0.587644, 0.733333, 1, 0, 0.803738, 0, -0.594983, 0.766667, 1, 0, 0.797753, 0, -0.602984, 0.8, 1, 0, 0.791464, 0, -0.611216, 0.833333, 1, 0, 0.785187, 0, -0.619259, 0.866667, 1, 0, 0.779254, 0, -0.626708, 0.9, 1, 0, 0.774014, 0, -0.633169, 0.933333, 1, 0, 0.769824, 0, -0.638256, 0.966667, 1, 0, 0.767938, 0, -0.640525, 1, 1, 0, 0.766044, 0, -0.642788)

[sub_resource type="Animation" id="Animation_ocryg"]
resource_name = "open-and-close"
length = 2.0
tracks/0/type = "rotation_3d"
tracks/0/imported = true
tracks/0/enabled = true
tracks/0/path = NodePath("crypt-door/door")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 1.9377e-16, 0, -1, 0.0333333, 1, 0, 0.246814, 0, -0.969063, 0.0666667, 1, 0, 0.437937, 0, -0.899006, 0.1, 1, 0, 0.577717, 0, -0.816237, 0.133333, 1, 0, 0.675364, 0, -0.737484, 0.166667, 1, 0, 0.740681, 0, -0.671857, 0.2, 1, 0, 0.78208, 0, -0.623179, 0.233333, 1, 0, 0.806014, 0, -0.591897, 0.266667, 1, 0, 0.817148, 0, -0.576428, 0.3, 1, 0, 0.818827, 0, -0.57404, 0.333333, 1, 0, 0.813612, 0, -0.581409, 0.366667, 1, 0, 0.803738, 0, -0.594983, 0.4, 1, 0, 0.791464, 0, -0.611216, 0.433333, 1, 0, 0.779254, 0, -0.626708, 0.466667, 1, 0, 0.769824, 0, -0.638256, 0.5, 1, 0, 0.766044, 0, -0.642788, 0.533333, 1, 0, 0.764684, 0, -0.644406, 0.6, 1, 0, 0.764664, 0, -0.64443, 0.633333, 1, 0, 0.765652, 0, -0.643256, 0.666667, 1, 0, 0.767066, 0, -0.641568, 0.7, 1, 0, 0.768728, 0, -0.639575, 0.733333, 1, 0, 0.770462, 0, -0.637486, 0.766667, 1, 0, 0.772091, 0, -0.635512, 0.8, 1, 0, 0.773443, 0, -0.633866, 0.833333, 1, 0, 0.774346, 0, -0.632762, 0.9, 1, 0, 0.774122, 0, -0.633036, 0.933333, 1, 0, 0.772646, 0, -0.634837, 0.966667, 1, 0, 0.770018, 0, -0.638023, 1, 1, 0, 0.766044, 0, -0.642788, 1.03333, 1, 0, 0.760121, 0, -0.649782, 1.06667, 1, 0, 0.746864, 0, -0.664977, 1.1, 1, 0, 0.721987, 0, -0.691907, 1.13333, 1, 0, 0.685536, 0, -0.728039, 1.16667, 1, 0, 0.636032, 0, -0.771663, 1.2, 1, 0, 0.571788, 0, -0.820401, 1.23333, 1, 0, 0.491104, 0, -0.871101, 1.26667, 1, 0, 0.392515, 0, -0.919745, 1.3, 1, 0, 0.259346, 0, -0.965785, 1.33333, 1, 0, 0.138933, 0, -0.990302, 1.36667, 1, 0, 0.0861899, 0, -0.996279, 1.4, 1, 0, 0.0784592, 0, -0.996917, 1.43333, 1, 0, 0.121268, 0, -0.99262, 1.46667, 1, 0, 0.176274, 0, -0.984341, 1.5, 1, 0, 0.203108, 0, -0.979156, 1.53333, 1, 0, 0.215493, 0, -0.976505, 1.56667, 1, 0, 0.21354, 0, -0.976934, 1.6, 1, 0, 0.19723, 0, -0.980357, 1.63333, 1, 0, 0.165078, 0, -0.986281, 1.66667, 1, 0, 0.120907, 0, -0.992664, 1.7, 1, 0, 0.0564205, 0, -0.998407, 1.73333, 1, 0, 0.00702987, 0, -0.999975, 1.76667, 1, 0, 0.0233902, 0, -0.999726, 1.8, 1, 0, 0.0523359, 0, -0.99863, 1.83333, 1, 0, 0.0502782, 0, -0.998735, 1.86667, 1, 0, 0.0390176, 0, -0.999239, 1.9, 1, 0, 0.0246776, 0, -0.999695, 1.93333, 1, 0, 0.0106658, 0, -0.999943, 1.96667, 1, 0, 0.00533293, 0, -0.999986, 2, 1, 0, 0, 0, -1)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2mrat"]
_data = {
"close": SubResource("Animation_1blob"),
"open": SubResource("Animation_nubav"),
"open-and-close": SubResource("Animation_ocryg")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_trrho"]
size = Vector3(0.6, 1, 0.75)

[node name="mausoleo" instance=ExtResource("1_deiai")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
script = ExtResource("2_887pc")

[node name="tejado" parent="." index="1" instance=ExtResource("2_bn787")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="marco_puerta" parent="." index="2" instance=ExtResource("4_kphpg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.983721)

[node name="puerta" type="Node3D" parent="." index="3"]
process_mode = 3
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.204524, 0, 1)

[node name="crypt-door" type="Node3D" parent="puerta" index="0"]

[node name="door" type="MeshInstance3D" parent="puerta/crypt-door" index="0"]
transform = Transform3D(1, 0, -3.8754e-16, 0, 1, 0, 3.8754e-16, 0, 1, 0, 0, 0)
mesh = SubResource("ArrayMesh_182ke")
skeleton = NodePath("")

[node name="AnimationPlayer" type="AnimationPlayer" parent="puerta" index="1"]
libraries = {
"": SubResource("AnimationLibrary_2mrat")
}

[node name="area" type="Area3D" parent="." index="4"]

[node name="shape" type="CollisionShape3D" parent="area" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.579216, 1.52778)
shape = SubResource("BoxShape3D_trrho")

[connection signal="body_entered" from="area" to="." method="_on_area_body_entered"]

[editable path="tejado"]
[editable path="marco_puerta"]
